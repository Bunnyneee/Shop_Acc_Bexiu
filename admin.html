<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Qu·∫£n l√Ω Shop Acc</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Quicksand', sans-serif;
      background-color: #fff0f7;
      color: #333;
      padding: 2rem;
      max-width: 700px;
      margin: auto;
    }
    h1 {
      text-align: center;
      color: #ff69b4;
    }
    form {
      background: white;
      padding: 1.5rem;
      border-radius: 16px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    label {
      font-weight: 600;
    }
    input, select {
      padding: 0.6rem;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 1rem;
    }
    input[type="file"] {
      border: none;
    }
    .checkbox-group {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }
    button {
      padding: 0.8rem;
      background-color: #ff69b4;
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #e457a3;
    }
  </style>
</head>
<body>
  <h1>üå∏ Qu·∫£n l√Ω Acc Bunny üå∏</h1>
  <form id="accForm">
    <label for="level">C·∫•p acc:</label>
    <input type="text" id="level" required />

    <label for="rank">Rank:</label>
    <input type="text" id="rank" required />

    <label>Li√™n k·∫øt t√†i kho·∫£n (ch·ªçn 1‚Äì2 m·ª•c):</label>
    <div class="checkbox-group">
      <label><input type="checkbox" name="link" value="Gmail"> Gmail</label>
      <label><input type="checkbox" name="link" value="Facebook"> Facebook</label>
      <label><input type="checkbox" name="link" value="Facebook Die"> Facebook Die</label>
      <label><input type="checkbox" name="link" value="Game Center"> Game Center</label>
    </div>

    <label for="images">·∫¢nh acc (ch·ªçn nhi·ªÅu ·∫£nh n·∫øu c·∫ßn):</label>
    <input type="file" id="images" multiple accept="image/*" required />

    <button type="submit">Th√™m acc</button>
  </form>

  <script>
    const form = document.getElementById("accForm");
    let accs = JSON.parse(localStorage.getItem("accs") || "[]");
    let lastId = parseInt(localStorage.getItem("lastId") || "0");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      const level = document.getElementById("level").value.trim();
      const rank = document.getElementById("rank").value.trim();
      const links = Array.from(document.querySelectorAll("input[name='link']:checked")).map(el => el.value);
      const files = document.getElementById("images").files;

      if (links.length < 1 || links.length > 2) {
        alert("Vui l√≤ng ch·ªçn 1 ho·∫∑c 2 li√™n k·∫øt.");
        return;
      }
      if (!files.length) {
        alert("Vui l√≤ng ch·ªçn √≠t nh·∫•t 1 ·∫£nh.");
        return;
      }

      const imageUrls = await Promise.all(Array.from(files).map(file => toBase64(file)));

      const acc = {
        id: ++lastId,
        level,
        rank,
        links,
        images: imageUrls,
        status: "available"
      };

      accs.push(acc);
      localStorage.setItem("accs", JSON.stringify(accs));
      localStorage.setItem("lastId", lastId.toString());

      alert("ƒê√£ th√™m acc th√†nh c√¥ng!");
      form.reset();
    });

    function toBase64(file) {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onload = () => resolve(reader.result);
        reader.onerror = reject;
        reader.readAsDataURL(file);
      });
    }
  </script>
</body>
</html>
